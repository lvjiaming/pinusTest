"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getSpend = exports.SERVER_RULE = exports.WXSECRET = exports.WXID = exports.LEFTONE = exports.httpPort = exports.inip = exports.ip = exports.options = void 0;
exports.options = {
    connectionLimit: 10,
    host: "localhost",
    port: "3306",
    database: "csgame",
    user: "root",
    password: "123456",
    charset: 'utf8mb4',
    multipleStatements: true //可执行多条语句
};
exports.ip = '127.0.0.1';
exports.inip = '127.0.0.1';
exports.httpPort = '3000';
exports.LEFTONE = false;
exports.WXID = 'wx2eaf0e93ba0300a5';
exports.WXSECRET = 'b51e77038b8ad83e3f974576d913ac14';
exports.SERVER_RULE = {
    //积分 0
    TPPE_SCORE: Math.pow(2, 0),
    //金币 1
    TPPE_GOLD: Math.pow(2, 1),
    //俱乐部积分 2
    TPPE_CLUB_SCORE: Math.pow(2, 2),
    //开局消耗房卡 3
    CREATE_ROOMCARD: Math.pow(2, 3),
    //开局消耗金币 4
    CREATE_GOLD: Math.pow(2, 4),
    //房主支付 5
    PAY_CREATOR: Math.pow(2, 5),
    //AA支付 6
    PAY_AA: Math.pow(2, 6),
    //大赢家支付 7
    PAY_BIGWIN: Math.pow(2, 7),
    //代开 8
    AGENCY_CREATE: Math.pow(2, 8),
    //匹配场 9
    GAME_MATCH: Math.pow(2, 9),
    //房间场 10
    GAME_ROOM: Math.pow(2, 10),
    //百人场 11
    GAME_100: Math.pow(2, 11),
};
const spendCard = {
    52200: [{
            gameRule: [[0]],
            serverRule: [5],
            card: 2
        }, {
            gameRule: [[1]],
            serverRule: [5],
            card: 3
        }, {
            gameRule: [[2]],
            serverRule: [5],
            card: 4
        }, {
            gameRule: [],
            serverRule: [6],
            card: 1
        }],
    40107: [{
            gameRule: [],
            serverRule: [5],
            card: 3
        }, {
            gameRule: [],
            serverRule: [6],
            card: 1
        }]
};
function getSpend(kindID, gameRules, serverRules) {
    let arr = spendCard[kindID];
    let card = 0;
    for (let key of arr) {
        let exit = true;
        for (let i in key.gameRule) {
            let rule = 0;
            key.gameRule[i].forEach(n => rule |= (1 << n));
            if (rule && (rule & gameRules[i]) != rule) {
                exit = false;
                break;
            }
        }
        if (exit) {
            let rule = 0;
            key.serverRule.forEach(n => rule |= (1 << n));
            if (rule && (serverRules & rule) != rule) {
                continue;
            }
            card += key.card;
        }
    }
    return card;
}
exports.getSpend = getSpend;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uZmlnLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vY29uZmlnL2NvbmZpZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBVyxRQUFBLE9BQU8sR0FBRztJQUNqQixlQUFlLEVBQUUsRUFBRTtJQUNuQixJQUFJLEVBQUUsV0FBVztJQUNqQixJQUFJLEVBQUUsTUFBTTtJQUNaLFFBQVEsRUFBRSxRQUFRO0lBQ2xCLElBQUksRUFBRSxNQUFNO0lBQ1osUUFBUSxFQUFFLFFBQVE7SUFDbEIsT0FBTyxFQUFFLFNBQVM7SUFDbEIsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLFNBQVM7Q0FDckMsQ0FBQztBQUVTLFFBQUEsRUFBRSxHQUFHLFdBQVcsQ0FBQztBQUNqQixRQUFBLElBQUksR0FBRyxXQUFXLENBQUM7QUFDbkIsUUFBQSxRQUFRLEdBQUcsTUFBTSxDQUFDO0FBQ2xCLFFBQUEsT0FBTyxHQUFHLEtBQUssQ0FBQztBQUNoQixRQUFBLElBQUksR0FBRyxvQkFBb0IsQ0FBQztBQUM1QixRQUFBLFFBQVEsR0FBRyxrQ0FBa0MsQ0FBQztBQUU5QyxRQUFBLFdBQVcsR0FBRztJQUNyQixNQUFNO0lBQ04sVUFBVSxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUMxQixNQUFNO0lBQ04sU0FBUyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUN6QixTQUFTO0lBQ1QsZUFBZSxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUMvQixVQUFVO0lBQ1YsZUFBZSxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUMvQixVQUFVO0lBQ1YsV0FBVyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUMzQixRQUFRO0lBQ1IsV0FBVyxFQUFFLElBQUksQ0FBQyxHQUFH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